<UserControl x:Class="pokersoc_connect.Views.LostChipsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <!-- Main Content -->
    <Grid Grid.Row="0">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="2*"/>
        <ColumnDefinition Width="3*"/>
      </Grid.ColumnDefinitions>

      <!-- LEFT SIDE: SUMMARY TABLE -->
      <Grid Grid.Column="0" Margin="12,12,6,12">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Text="Lost Chips Summary" FontSize="18" FontWeight="Bold" Grid.Row="0" Margin="0,0,0,10"/>

        <!-- Chips Table -->
        <StackPanel Grid.Row="1" Background="White">
          <!-- Header Row -->
          <Border BorderBrush="Gray" BorderThickness="1,1,1,1" Background="LightGray">
            <Grid Height="40">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="80"/>
                <ColumnDefinition Width="100"/>
              </Grid.ColumnDefinitions>
              <TextBlock Grid.Column="0" Text="Chip" FontWeight="Bold" FontSize="14"
                         VerticalAlignment="Center" HorizontalAlignment="Center" Margin="5"/>
              <TextBlock Grid.Column="1" Text="Count" FontWeight="Bold" FontSize="14"
                         VerticalAlignment="Center" HorizontalAlignment="Center" Margin="5"/>
              <TextBlock Grid.Column="2" Text="Value" FontWeight="Bold" FontSize="14"
                         VerticalAlignment="Center" HorizontalAlignment="Center" Margin="5"/>
            </Grid>
          </Border>
          
          <!-- Data Rows -->
          <StackPanel x:Name="ChipSummaryPanel">
            <!-- Rows will be populated dynamically -->
          </StackPanel>
        </StackPanel>

        <!-- Info Panel -->
        <Border Grid.Row="2" 
                BorderBrush="DarkGray" 
                BorderThickness="2" 
                Background="#FFF8E1" 
                Padding="10" 
                Margin="0,10,0,10">
          <StackPanel>
            <TextBlock Text="ðŸ’¡ What are Lost Chips?" FontWeight="Bold" FontSize="12" Margin="0,0,0,5"/>
            <TextBlock Text="Chips found on the floor or left behind by players are recorded as tips for the house." 
                       FontSize="11" TextWrapping="Wrap" Opacity="0.8"/>
          </StackPanel>
        </Border>

        <!-- Undo and Clear Buttons -->
        <Grid Grid.Row="3" Margin="0,0,0,10">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          
          <!-- Clear Button -->
          <Button Grid.Column="0" Margin="0,0,5,0" Click="ClearAll_Click"
                  Padding="15,20" BorderThickness="1,0,1,1" BorderBrush="Gray" Background="Orange">
            <StackPanel>
              <TextBlock Text="ðŸ—‘ï¸" FontSize="36" HorizontalAlignment="Center" Margin="0,0,0,8"/>
              <TextBlock Text="Clear" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
              <TextBlock Text="All chips" FontSize="10" HorizontalAlignment="Center" Opacity="0.7"/>
            </StackPanel>
          </Button>

          <!-- Undo Button -->
          <Button Grid.Column="1" Margin="5,0,0,0" Click="UndoLast_Click"
                  Padding="15,20" BorderThickness="1,0,1,1" BorderBrush="Gray" Background="Yellow">
            <StackPanel>
              <TextBlock Text="â†¶" FontSize="36" HorizontalAlignment="Center" Margin="0,0,0,8"/>
              <TextBlock Text="Undo" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
              <TextBlock Text="Last action" FontSize="10" HorizontalAlignment="Center" Opacity="0.7"/>
            </StackPanel>
          </Button>
        </Grid>

        <!-- Total Panel -->
        <Border Grid.Row="4"
                Margin="0,0,0,0"
                Padding="15,20"
                BorderThickness="1,0,1,1"
                BorderBrush="Gray"
                Background="LightGreen">
          <StackPanel>
            <TextBlock Text="ðŸ’°" FontSize="36" HorizontalAlignment="Center" Margin="0,0,0,8"/>
            <TextBlock Text="Total Tips" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
            <TextBlock x:Name="TotalTipsText" Text="$0.00" FontSize="14" FontWeight="Bold" 
                       HorizontalAlignment="Center" Margin="0,5,0,0"/>
          </StackPanel>
        </Border>
      </Grid>

      <!-- RIGHT SIDE: CHIP BUTTONS AND CONTROLS -->
      <Grid Grid.Column="1" Margin="6,12,12,12">
        <Grid.RowDefinitions>
          <RowDefinition Height="*"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Chip Buttons Grid -->
        <Grid Grid.Row="0">
          <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>

          <!-- Row 1 -->
          <!-- 5c White Chip -->
          <Button x:Name="Chip5cBtn" Grid.Row="0" Grid.Column="0"
                  Margin="0,0,5,5"
                  Padding="15,20"
                  Click="AddChip5c_Click"
                  BorderThickness="3"
                  BorderBrush="Black"
                  Background="White">
            <StackPanel>
              <TextBlock Text="5c" FontSize="36" HorizontalAlignment="Center" Margin="0,0,0,8" Foreground="Black"/>
              <TextBlock Text="White" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Gray"/>
              <TextBlock x:Name="Chip5c" Text="Ã—0" FontSize="16" HorizontalAlignment="Center" Opacity="0.7" Foreground="Black"/>
            </StackPanel>
          </Button>

          <!-- 25c Red Chip -->
          <Button x:Name="Chip25cBtn" Grid.Row="0" Grid.Column="1"
                  Margin="5,0,0,5"
                  Padding="15,20"
                  Click="AddChip25c_Click"
                  BorderThickness="3"
                  BorderBrush="DarkRed"
                  Background="#E53935">
            <StackPanel>
              <TextBlock Text="25c" FontSize="36" HorizontalAlignment="Center" Margin="0,0,0,8" Foreground="White"/>
              <TextBlock Text="Red" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#FFCDD2"/>
              <TextBlock x:Name="Chip25c" Text="Ã—0" FontSize="16" HorizontalAlignment="Center" Opacity="0.8" Foreground="White"/>
            </StackPanel>
          </Button>

          <!-- Row 2 -->
          <!-- $1 Blue Chip -->
          <Button x:Name="Chip1Btn" Grid.Row="1" Grid.Column="0"
                  Margin="0,5,5,5"
                  Padding="15,20"
                  Click="AddChip1_Click"
                  BorderThickness="3"
                  BorderBrush="DarkBlue"
                  Background="#1E88E5">
            <StackPanel>
              <TextBlock Text="$1" FontSize="36" HorizontalAlignment="Center" Margin="0,0,0,8" Foreground="White"/>
              <TextBlock Text="Blue" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#BBDEFB"/>
              <TextBlock x:Name="Chip1" Text="Ã—0" FontSize="16" HorizontalAlignment="Center" Opacity="0.8" Foreground="White"/>
            </StackPanel>
          </Button>

          <!-- $5 Black Chip -->
          <Button x:Name="Chip5Btn" Grid.Row="1" Grid.Column="1"
                  Margin="5,5,0,5"
                  Padding="15,20"
                  Click="AddChip5_Click"
                  BorderThickness="3"
                  BorderBrush="#333333"
                  Background="#212121">
            <StackPanel>
              <TextBlock Text="$5" FontSize="36" HorizontalAlignment="Center" Margin="0,0,0,8" Foreground="White"/>
              <TextBlock Text="Black" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#9E9E9E"/>
              <TextBlock x:Name="Chip5" Text="Ã—0" FontSize="16" HorizontalAlignment="Center" Opacity="0.8" Foreground="White"/>
            </StackPanel>
          </Button>

          <!-- Row 3 -->
          <!-- $25 White Plaque -->
          <Button x:Name="Chip25Btn" Grid.Row="2" Grid.Column="0"
                  Margin="0,5,5,5"
                  Padding="15,20"
                  Click="AddChip25_Click"
                  BorderThickness="3"
                  BorderBrush="Gold"
                  Background="White">
            <StackPanel>
              <TextBlock Text="$25" FontSize="36" HorizontalAlignment="Center" Margin="0,0,0,8" Foreground="Black"/>
              <TextBlock Text="White Plaque" FontSize="12" FontWeight="Bold" HorizontalAlignment="Center" Foreground="Gray"/>
              <TextBlock x:Name="Chip25" Text="Ã—0" FontSize="16" HorizontalAlignment="Center" Opacity="0.7" Foreground="Black"/>
            </StackPanel>
          </Button>

          <!-- $100 Red Plaque -->
          <Button x:Name="Chip100Btn" Grid.Row="2" Grid.Column="1"
                  Margin="5,5,0,5"
                  Padding="15,20"
                  Click="AddChip100_Click"
                  BorderThickness="3"
                  BorderBrush="DarkRed"
                  Background="#C62828">
            <StackPanel>
              <TextBlock Text="$100" FontSize="36" HorizontalAlignment="Center" Margin="0,0,0,8" Foreground="White"/>
              <TextBlock Text="Red Plaque" FontSize="12" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#FFCDD2"/>
              <TextBlock x:Name="Chip100" Text="Ã—0" FontSize="16" HorizontalAlignment="Center" Opacity="0.8" Foreground="White"/>
            </StackPanel>
          </Button>

          <!-- Row 4 -->
          <!-- Back Button -->
          <Button Grid.Row="3" Grid.Column="0"
                  Margin="0,5,5,0"
                  Padding="15,20"
                  Click="Close_Click"
                  BorderThickness="2"
                  BorderBrush="Gray"
                  Background="LightCoral">
            <StackPanel>
              <TextBlock Text="ðŸ " FontSize="36" HorizontalAlignment="Center" Margin="0,0,0,8"/>
              <TextBlock Text="Back" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
              <TextBlock Text="Return to main" FontSize="10" HorizontalAlignment="Center" Opacity="0.7"/>
            </StackPanel>
          </Button>

          <!-- Record Tips Button -->
          <Button x:Name="RecordTipsBtn" Grid.Row="3" Grid.Column="1"
                  Margin="5,5,0,0"
                  Padding="15,20"
                  Click="RecordTips_Click"
                  BorderThickness="2"
                  BorderBrush="Gray"
                  Background="LightBlue">
            <StackPanel>
              <TextBlock Text="âœ…" FontSize="36" HorizontalAlignment="Center" Margin="0,0,0,8"/>
              <TextBlock Text="Record" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center"/>
              <TextBlock Text="Save as tips" FontSize="10" HorizontalAlignment="Center" Opacity="0.7"/>
            </StackPanel>
          </Button>
        </Grid>

        <!-- Multiplier Controls -->
        <Grid Grid.Row="1" Margin="0,10,0,0">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>

          <!-- 1x Button -->
          <Button x:Name="Toggle1x" Grid.Column="0"
                  Margin="0,0,5,0"
                  Padding="10,15"
                  BorderThickness="2"
                  BorderBrush="Gray"
                  Background="LightGreen"
                  Click="Toggle1x_Click">
            <StackPanel>
              <TextBlock Text="Ã—1" FontSize="28" FontWeight="Bold" HorizontalAlignment="Center"/>
            </StackPanel>
          </Button>

          <!-- 5x Button -->
          <Button x:Name="Toggle5x" Grid.Column="1"
                  Margin="5,0,5,0"
                  Padding="10,15"
                  BorderThickness="2"
                  BorderBrush="Gray"
                  Background="LightBlue"
                  Click="Toggle5x_Click">
            <StackPanel>
              <TextBlock Text="Ã—5" FontSize="28" FontWeight="Bold" HorizontalAlignment="Center"/>
            </StackPanel>
          </Button>

          <!-- 20x Button -->
          <Button x:Name="Toggle20x" Grid.Column="2"
                  Margin="5,0,0,0"
                  Padding="10,15"
                  BorderThickness="2"
                  BorderBrush="Gray"
                  Background="LightBlue"
                  Click="Toggle20x_Click">
            <StackPanel>
              <TextBlock Text="Ã—20" FontSize="28" FontWeight="Bold" HorizontalAlignment="Center"/>
            </StackPanel>
          </Button>
        </Grid>
      </Grid>
    </Grid>

    <!-- Confirmation Panel Overlay -->
    <Grid x:Name="ConfirmationPanel" Visibility="Collapsed" Background="#CC000000">
      <Border Background="White" 
              Padding="30" 
              CornerRadius="10"
              MaxWidth="500"
              VerticalAlignment="Center"
              HorizontalAlignment="Center">
        <StackPanel>
          <TextBlock Text="ðŸ’°" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,15"/>
          <TextBlock Text="Confirm Lost Chips" FontSize="24" FontWeight="Bold" Margin="0,0,0,20" HorizontalAlignment="Center"/>
          <TextBlock x:Name="ConfirmationText" 
                     Text="" 
                     FontSize="16" 
                     TextWrapping="Wrap" 
                     TextAlignment="Center"
                     Margin="0,0,0,25"/>
          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <Button Grid.Column="0" Content="Cancel" 
                    Click="CancelConfirmation_Click" 
                    Padding="20,12" 
                    Margin="0,0,10,0"
                    FontSize="16"
                    Background="LightGray"/>
            <Button Grid.Column="1" Content="Confirm" 
                    Click="ConfirmRecordTips_Click" 
                    Padding="20,12" 
                    FontSize="16"
                    FontWeight="Bold"
                    Background="LightGreen"/>
          </Grid>
        </StackPanel>
      </Border>
    </Grid>
  </Grid>
</UserControl>
