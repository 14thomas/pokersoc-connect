<Window x:Class="pokersoc_connect.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="pokersoc-connect"
        Height="720" Width="1080"
        WindowStartupLocation="CenterScreen"
        UseLayoutRounding="True"
        SnapsToDevicePixels="True">
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- MAIN TABS -->
    <TabControl x:Name="MainTabs" Grid.Row="0" SelectionChanged="MainTabs_SelectionChanged">
      <!-- ===================== ACTIVITY TAB ===================== -->
      <TabItem Header="Activity">
        <Grid Margin="12">
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
          </Grid.RowDefinitions>

          <!-- Top bar -->
          <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,10">
            <Button Content="Buy-in"   Click="BuyIn_Click"   Margin="0,0,8,0"/>
            <Button Content="Cash-out" Click="CashOut_Click" Margin="0,0,8,0"/>
          </StackPanel>

          <!-- Body host: either transactions table or an inline view -->
          <Grid Grid.Row="1">
            <!-- Inline screen host (BuyInView / CashOutView) -->
            <ContentControl x:Name="ScreenHost" Visibility="Collapsed"/>

            <!-- Default: transactions table -->
            <DataGrid x:Name="TxGrid"
                      Visibility="Visible"
                      AutoGenerateColumns="True"
                      IsReadOnly="True"/>
          </Grid>
        </Grid>
      </TabItem>

      <!-- ===================== CASHBOX TAB ===================== -->
      <TabItem Header="Cashbox">
        <Grid Margin="12">
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>

          <!-- Cashbox toolbar (no manual refresh) -->
          <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,10">
            <Button Content="Add Floatâ€¦" Click="AddFloat_Click"/>
          </StackPanel>

          <!-- Cashbox breakdown -->
          <DataGrid x:Name="CashboxGrid"
                    Grid.Row="1"
                    AutoGenerateColumns="True"
                    IsReadOnly="True"/>

          <!-- Cashbox total -->
          <DockPanel Grid.Row="2" LastChildFill="False" Margin="0,10,0,0">
            <TextBlock Text="Total:" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <TextBlock x:Name="CashboxTotalText"
                       FontWeight="Bold"
                       VerticalAlignment="Center"/>
          </DockPanel>
        </Grid>
      </TabItem>
    </TabControl>

    <!-- STATUS BAR -->
    <StatusBar Grid.Row="1">
      <StatusBarItem>
        <TextBlock x:Name="StatusText" Text="Ready."/>
      </StatusBarItem>
    </StatusBar>
  </Grid>
</Window>
